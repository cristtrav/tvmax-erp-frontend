<div nz-row [nzGutter]="[8, 8]">
    <div nz-col nzSpan="24">
        <div nz-row>
            <div nz-col nzFlex="auto">
                <div nz-row [nzGutter]="[8, 8]">
                    <div nz-col>
                        <button nz-button nzType="primary" routerLink="nueva">
                            <i nz-icon nzType="plus"></i>
                            Nueva
                        </button>
                    </div>
                    <div nz-col>
                        <button nz-button nzType="default" (click)="tablaSuscrpcionesComp.cargarDatos()">
                            <i nz-icon nzType="reload" nzTheme="outline"></i>
                            Recargar
                        </button>
                    </div>
                </div>
            </div>
            <div nz-col>
                <div nz-row [nzGutter]="[8, 8]">
                    <div nz-col>
                        <nz-input-group [nzPrefixIcon]="'search'" [nzSuffix]="inputClearTpl">
                            <input nz-input placeholder="Buscar..." [(ngModel)]="textoBusqueda">
                            <ng-template #inputClearTpl>
                                <i nz-icon class="ant-input-clear-icon" nzTheme="fill" nzType="close-circle"
                                    *ngIf="textoBusqueda" (click)="textoBusqueda = ''">
                                </i>
                            </ng-template>
                        </nz-input-group>
                    </div>
                    <div nz-col>
                        <nz-badge [nzCount]="cantFiltrosAplicados">
                            <button nz-tooltip nz-button nzType="primary" nzTooltipTitle="Ver filtros"
                                (click)="drawerFiltrosVisible = !drawerFiltrosVisible">
                                <i nz-icon nzType="filter" nzTheme="outline"></i>
                            </button>
                        </nz-badge>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div nz-col nzSpan="24">
        <app-tabla-suscripciones [idcliente]="idcliente" [mostrarCliente]="mostrarCliente"
            [paramsFiltros]="paramsFiltros" [textoBusqueda]="textoBusqueda"></app-tabla-suscripciones>
    </div>
</div>

<nz-drawer [nzContent]="formFiltros" [nzVisible]="drawerFiltrosVisible" nzClosable="true" nzPlacement="right"
    nzTitle="Filtros" (nzOnClose)="drawerFiltrosVisible = false">
</nz-drawer>

<ng-template #formFiltros>
    <app-form-filtro-suscripciones (paramsFiltrosChange)="paramsFiltros = $event"
        (cantFiltrosChange)="cantFiltrosAplicados = $event"></app-form-filtro-suscripciones>
</ng-template>