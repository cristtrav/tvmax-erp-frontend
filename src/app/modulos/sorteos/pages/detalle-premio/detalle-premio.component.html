<app-workspace-layout [isForm]="true">

    <nz-breadcrumb breadcrumb>
        <nz-breadcrumb-item>
            <a routerLink="/app/dashboard"><i nz-icon nzType="home"></i></a>
        </nz-breadcrumb-item>
        <nz-breadcrumb-item>
            <a routerLink="/app/sorteos">Sorteos</a>
        </nz-breadcrumb-item>
        <nz-breadcrumb-item>
            <a [routerLink]="['/app', 'sorteos', idsorteo]">{{ idsorteo }}</a>
        </nz-breadcrumb-item>
        <nz-breadcrumb-item>
            <a [routerLink]="['/app', 'sorteos', idsorteo, 'premios']">Premios</a>
        </nz-breadcrumb-item>
        <nz-breadcrumb-item>
            {{ idpremio | titlecase }}
        </nz-breadcrumb-item>
    </nz-breadcrumb>

    <form nz-form [formGroup]="form">
        <nz-form-item>
            <nz-form-label [appNzColResponsiveSizes]="LABEL_SIZES" nzRequired>
                Código
            </nz-form-label>
            <nz-form-control [appNzColResponsiveSizes]="CONTROL_SIZES" nzErrorTip="Ingrese un código.">
                <div nz-row>
                    <div nz-col [appNzColResponsiveSizes]="SMALL_SIZES">
                        <nz-input-group [nzAddOnAfter]="btnGenerarId" nzSearch>
                            <nz-input-number style="width: 100%;" formControlName="id"></nz-input-number>
                            <ng-template #btnGenerarId>
                                <button nz-tooltip nzTooltipTitle="Generar código."
                                    nz-button
                                    nzType="primary"
                                    nzSearch
                                    [nzLoading]="ultimoIdLoading"
                                    (click)="generarId()">
                                    <i nz-icon nzType="sync" nzTheme="outline"></i>
                                </button>
                            </ng-template>
                        </nz-input-group>
                    </div>
                </div>
            </nz-form-control>
        </nz-form-item>
        <nz-form-item>
            <nz-form-label [appNzColResponsiveSizes]="LABEL_SIZES" nzRequired>
                Descripción
            </nz-form-label>
            <nz-form-control [appNzColResponsiveSizes]="CONTROL_SIZES" nzErrorTip="Ingrese una descripción. Máx. 100 carácteres.">
                <input nz-input formControlName="descripcion">
            </nz-form-control>
        </nz-form-item>
        <nz-form-item>
            <nz-form-label [appNzColResponsiveSizes]="LABEL_SIZES" nzRequired>
                Número premio
            </nz-form-label>
            <nz-form-control [appNzColResponsiveSizes]="CONTROL_SIZES" nzErrorTip="Ingrese el número de premio. Min. 1, Máx. 100.">
                <div nz-row>
                    <div nz-col [appNzColResponsiveSizes]="SMALL_SIZES">
                        <nz-input-number
                            [nzMin]="1"
                            [nzMax]="100"
                            [nzStep]="1"
                            formControlName="nropremio"
                            style="width: 100%;">
                        </nz-input-number>
                    </div>
                </div>
            </nz-form-control>
        </nz-form-item>
        <div nz-col [appNzColResponsiveSizes]="ACTION_SIZES" style="text-align: right;">
            <button nz-button nzType="primary" [nzLoading]="guardando" (click)="guardar()">
                <i nz-icon nzType="save"></i>
                {{ idpremio == 'nuevo' ? 'Registrar' : 'Editar' }}
            </button>
        </div>
    </form>

</app-workspace-layout>