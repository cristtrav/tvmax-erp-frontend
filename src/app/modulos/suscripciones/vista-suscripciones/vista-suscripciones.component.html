<div class="inner-component">
    <div class="main-breadcrumb">
        <div nz-row>
            <div nz-col nzFlex="auto">

                <nz-breadcrumb>
                    <nz-breadcrumb-item>
                        <a routerLink="/app/dashboard"><i nz-icon nzType="home"></i></a>
                    </nz-breadcrumb-item>
                    <nz-breadcrumb-item>
                        Suscripciones
                    </nz-breadcrumb-item>
                </nz-breadcrumb>

            </div>
            <div nz-col>
                <nz-button-group>
                    <button nz-button [nzType]="vista !== 'estadisticas'?'primary':'default'" nzSize="small"
                        (click)="cambiarVista('registros')">
                        <i nz-icon nzType="unordered-list" nzTheme="outline"></i>
                        Registros
                    </button>
                    <button nz-button [nzType]="vista === 'estadisticas'?'primary':'default'" nzSize="small"
                        (click)="cambiarVista('estadisticas')">
                        <i nz-icon nzType="line-chart" nzTheme="outline"></i>
                        Estadisticas
                    </button>
                </nz-button-group>
            </div>
        </div>
    </div>
    <div class="module-container">
        <div class="module-content">
            <div nz-row>
                <div nz-col nzFlex="auto">
                    <nz-space>
                        <button *nzSpaceItem nz-button nzType="primary" routerLink="nueva">
                            <i nz-icon nzType="plus"></i>
                            Nueva
                        </button>
                        <button *nzSpaceItem nz-button nzType="default" [nzLoading]="loadingDatosReporte" (click)="printMainContent()">
                            <i nz-icon nzType="printer"></i>
                            Imprimir
                        </button>
                    </nz-space>
                </div>
                <div nz-col>
                    <nz-space>
                        <nz-input-group *nzSpaceItem [nzPrefixIcon]="'search'" [nzSuffix]="inputClearTpl">
                            <input nz-input placeholder="Buscar..." [(ngModel)]="textoBusqueda">
                            <ng-template #inputClearTpl>
                                <i nz-icon class="ant-input-clear-icon" nzTheme="fill" nzType="close-circle"
                                    *ngIf="textoBusqueda" (click)="textoBusqueda = ''"></i>
                            </ng-template>
                        </nz-input-group>

                        <nz-badge *nzSpaceItem [nzCount]="cantFiltrosAplicados">
                            <button nz-tooltip nz-button nzType="primary" nzTooltipTitle="Ver filtros"
                                (click)="drawerFiltrosVisible = !drawerFiltrosVisible">
                                <i nz-icon nzType="filter" nzTheme="outline"></i>
                            </button>
                        </nz-badge>
                    </nz-space>
                </div>
            </div>
            <!--<nz-drawer [nzContent]="contenidofiltros" [nzVisible]="drawerFiltrosVisible"
                (nzOnClose)="drawerFiltrosVisible = false" nzTitle="Filtros" nzClosable>
                <ng-template #contenidofiltros>
                    <app-form-filtro-suscripciones (paramsFiltrosChange)="paramsFiltro = $event"
                        (cantFiltrosChange)="cantFiltrosAplicados = $event"></app-form-filtro-suscripciones>
                </ng-template>
            </nz-drawer>-->
            <app-tabla-suscripciones *ngIf="vista !== 'estadisticas'" [mostrarCliente]="true" [textoBusqueda]="textoBusqueda" [paramsFiltros]="paramsFiltro"
                [tableStyles]="{'margin-top':'10px'}"></app-tabla-suscripciones>
        </div>
        <div style="margin-top: 16px;">
            <app-contenido-estadisticas-suscripciones *ngIf="vista === 'estadisticas'" [paramsFiltros]="paramsFiltro" [textoBusqueda]="textoBusqueda"></app-contenido-estadisticas-suscripciones>
        </div>
    </div>
</div>

<iframe #iframe style="display: none;"></iframe>
    
